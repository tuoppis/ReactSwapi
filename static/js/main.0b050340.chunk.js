(this.webpackJsonpReactSwapi=this.webpackJsonpReactSwapi||[]).push([[0],{43:function(e,t,n){},46:function(e,t,n){},51:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(10),i=n.n(c),s=(n(43),n(12)),l=n.n(s),u=n(18),o=n(6),j=(n(45),n(46),n(26)),h=n(31),b=n(32),d=function(){function e(t){Object(h.a)(this,e),this.url=t||"https://swapi.dev/api/",this.promise=this.loadAll()}return Object(b.a)(e,[{key:"loadResource",value:function(){var e=Object(u.a)(l.a.mark((function e(t){var n,r,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t);case 3:if((n=e.sent).ok){e.next=6;break}throw new Error(n.statusText);case 6:return e.next=8,n.json();case 8:if(!("next"in(r=e.sent))||null===r.next){e.next=18;break}return e.t0=(a=r.results).push,e.t1=a,e.t2=j.a,e.next=15,this.loadResource(r.next);case 15:e.t3=e.sent,e.t4=(0,e.t2)(e.t3),e.t0.apply.call(e.t0,e.t1,e.t4);case 18:return e.abrupt("return",r.results);case 21:throw e.prev=21,e.t5=e.catch(0),new Error("Could not load ".concat(t,"\n").concat(e.t5));case 24:case"end":return e.stop()}}),e,this,[[0,21]])})));return function(t){return e.apply(this,arguments)}}()},{key:"loadAll",value:function(){var e=Object(u.a)(l.a.mark((function e(){var t,n,r,a,c,i,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(this.url);case 3:if((t=e.sent).ok){e.next=6;break}throw new Error(t.statusText);case 6:return e.next=8,t.json();case 8:for(c in n=e.sent,r=[],a=[],n)a.push(c),r.push(this.loadResource(n[c]));return e.next=14,Promise.all(r);case 14:for(s in i=e.sent,a)this[a[s]]=i[s];return this.replaceWithObjRef(this),e.abrupt("return",!0);case 20:throw e.prev=20,e.t0=e.catch(0),new Error("(".concat(this.url,") Could not load swapi: ").concat(e.t0));case 23:case"end":return e.stop()}}),e,this,[[0,20]])})));return function(){return e.apply(this,arguments)}}()},{key:"findReplaceHTML",value:function(e){if(!e.startsWith(this.url))return e;var t=e.slice(this.url.length).match(/(.+)\/(\d+)\//);if(null===t)return e;var n=Object(o.a)(t,3),r=(n[0],n[1]),a=n[2],c=this[r];return!Array.isArray(c)||a>c.length?e:c[a-1]}},{key:"replaceWithObjRef",value:function(e){if(Array.isArray(e))for(var t in e){var n=e[t];"string"===typeof n?e[t]=this.findReplaceHTML(n):this.replaceWithObjRef(n)}else for(var r in e){var a=e[r];a&&"url"!==r&&("string"===typeof a?e[r]=this.findReplaceHTML(a):this.replaceWithObjRef(a))}}}]),e}(),f=d,m=n(36),p=n(38),x=n(27),v=n(33),O=n(16),y=n(8),g=n(54),w=n(53),k=n(1);var A=function(e){var t=e.items,n=e.title,r=e.showProp,a=e.callBack,c=e.disabled,i=e.nullOption,s=!(Array.isArray(t)&&t.length>0&&"function"===typeof a),l=function(e){return r?e[r]:e};return Object(k.jsx)(g.a,{label:n,children:Object(k.jsxs)(w.a,{onChange:function(e){var n=Number(e.target.selectedIndex)-1;console.log(n);var r=n<0?null:t[n];console.log(r),a(r)},disabled:c||s,children:[Object(k.jsx)("option",{value:"-1",children:i||"No selection"},"-1"),Array.isArray(t)&&t.map((function(e,t){return Object(k.jsx)("option",{value:t,children:l(e)},t)}))]})})};var B=function(e){var t=e.items,n=e.showProp,r=e.title,a=function(e){return n?e[n]:e};return Object(k.jsx)(g.a,{label:r,children:Object(k.jsx)(w.a,{children:Array.isArray(t)&&t.map((function(e,t){return Object(k.jsx)("option",{value:t,children:a(e)},t)}))})})};var R=function(e){var t=e.peopleList,n=e.disabled,a=Object(r.useState)([]),c=Object(o.a)(a,2),i=c[0],s=c[1],l=Object(r.useState)([]),u=Object(o.a)(l,2),j=u[0],h=u[1],b=Object(r.useState)([]),d=Object(o.a)(b,2),f=d[0],m=d[1],p=function(e){if(0===e.length)return[];var t,n={},r=[],a=Object(v.a)(e);try{for(a.s();!(t=a.n()).done;){var c=t.value.homeworld;c.name in n||(r.push(c.name),n[c.name]=c)}}catch(i){a.e(i)}finally{a.f()}m(r.sort())},x=function(e){var n=t||[];h(null===e?n:n.filter((function(t){return t.gender===e}))),p(j)},g=function(e){s(null===e?j:j.filter((function(t){return t.homeworld.name===e})))};return Object(r.useEffect)((function(){Array.isArray(t)&&0===j.length?x(null):p(j),g(null)}),[j]),Object(k.jsxs)(O.a,{children:[Object(k.jsx)(y.a,{xs:12,sm:6,md:4,children:Object(k.jsx)(B,{items:i,showProp:"name",title:"People"})}),Object(k.jsx)(y.a,{children:Object(k.jsx)(A,{items:["male","female","n/a"],title:"Gender",nullOption:"Any",callBack:x,disabled:n})}),Object(k.jsx)(y.a,{xs:12,sm:6,md:4,children:Object(k.jsx)(A,{items:f,title:"From",nullOption:"Anywhere",callBack:g,disabled:n})})]})};var S=function(e){var t=e.items,n=e.chooseFunction,r=e.callBack,a=e.label,c=e.disabled;return Object(k.jsx)(x.a,{variant:"outline-primary",onClick:function(){r(t.filter(n))},disabled:c||!(!Array.isArray(t)||0===t.length)&&"function"===typeof r&&"function"===typeof n&&void 0,children:a})},E=n(55);var C=function(e){var t=e.id,n=e.label,r=e.range,a=e.value,c=e.callBack;return Object(k.jsx)(g.a,{label:n,children:Object(k.jsx)(E.a,{id:t,type:"number",min:r.min,max:r.max,defaultValue:a,onChange:function(e){var t=Number(e.target.value);c(t)}})})},L=n(37),P=n(23),T=n(24),F=n(22);var I=function(e){var t=e.id,n=e.label,r=e.currentRange,a=e.maxRange,c=e.callBack,i=t+"-min",s=t+"-max";return Object(k.jsx)(y.a,{children:Object(k.jsx)(L.a,{flush:!0,children:Object(k.jsxs)(F.a,{eventKey:"0",children:[Object(k.jsx)(P.a,{children:n}),Object(k.jsx)(T.a,{children:Object(k.jsxs)(O.a,{sm:1,md:2,children:[Object(k.jsx)(C,{id:i,label:"Minimum",range:a,value:r.min,callBack:function(e){var t=document.getElementById(s).value;e>t&&(document.getElementById(i).value=e=t),c({min:e,max:t})}}),Object(k.jsx)(C,{id:s,label:"Maximum",range:a,value:r.max,callBack:function(e){var t=document.getElementById(i).value;e<t&&(document.getElementById(s).value=e=t),c({min:t,max:e})}})]})})]})})})};var M=function(e){var t=e.vehicleList,n=e.disabled,a={min:0,max:100},c=Object(r.useState)([]),i=Object(o.a)(c,2),s=i[0],l=i[1],u=Object(r.useState)(a),j=Object(o.a)(u,2),h=j[0],b=j[1];return Object(k.jsxs)(O.a,{children:[Object(k.jsx)(y.a,{xs:12,sm:6,md:4,children:Object(k.jsx)(B,{items:s,showProp:"name",title:"Vehicles"})}),Object(k.jsx)(I,{id:"passenger",label:"Passengers",currentRange:h,maxRange:a,callBack:b}),Object(k.jsx)(y.a,{children:Object(k.jsx)(S,{items:t,chooseFunction:function(e){return function(e,t,n){if(e=Number(e),!n)return e>=t.min&&e<=t.max;var r=t.min===n.min||e>=t.min,a=t.max===n.max||e<=t.max;return r&&a}(e.passengers,h,a)},callBack:l,label:"Vehicles",disabled:n})})]})};var N=function(){var e=Object(r.useState)(!1),t=Object(o.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(!1),i=Object(o.a)(c,2),s=i[0],j=i[1],h=Object(r.useState)({}),b=Object(o.a)(h,2),d=b[0],v=b[1];return Object(r.useEffect)((function(){var e=function(){var e=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=new f,e.next=4,t.promise;case 4:a(!0),v(t),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),j(!0),window.alert(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();n||e()}),[d]),Object(k.jsx)(m.a,{children:Object(k.jsxs)(p.a,{gap:3,children:[Object(k.jsx)("h1",{children:"Starwars-Api Test"}),Object(k.jsx)(R,{peopleList:d.people,disabled:!n}),Object(k.jsx)(M,{vehicleList:d.vehicles,disabled:!n}),s&&Object(k.jsx)(x.a,{variant:"primary",onClick:function(){v({}),j(!1)},children:"Could Not Load: Try Again?"})]})})},W=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,56)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),r(e),a(e),c(e),i(e)}))};i.a.render(Object(k.jsx)(a.a.StrictMode,{children:Object(k.jsx)(N,{})}),document.getElementById("root")),W()}},[[51,1,2]]]);
//# sourceMappingURL=main.0b050340.chunk.js.map